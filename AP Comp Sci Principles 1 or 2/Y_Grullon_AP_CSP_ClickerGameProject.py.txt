import random



PlayButton = Group(Rect(150,200,100,35,fill='ForestGreen'),Label('PLAY', 200,217, size= 30, font='arial'))
app.background = gradient('White','skyBlue','lightSkyBlue','skyBlue','skyBlue','lawnGreen','limeGreen', start='top')
ScreenName = Label('Snake?!', 200,150,size=50, rotateAngle=- 10)
snakeStart = Group(Rect(70,350,20,5), Circle(100,390,2, fill='red'))





clicker = Circle(200,200, 1, fill='yellow')

def onMouseMove(x,y):
    clicker.centerX =x
    clicker.centerY = y


    



## The head of the snake, used group to add on extra shapes 
snake = Group(Rect(20,200,25,25), Circle(40,205,5, fill='White'), Circle(40,220,5, fill='White') )
snake.move = 'right'



##The shape for the apple
apple = Circle(200,350,10, fill='red', visible = False)

##The label 'apples eaten'
Eat = Label('Apples Eaten:', 200,20,size = 30, font='arial', visible = False)

##The number label which will be changed every time the snake hits the apple
NumberLabel = Label(0,320,20, size=30, font='orbitron',visible = False)



Movement_Label = Label('None',365,375, size=20, font='orbitron',visible = False)
SnakeMovement = Label('None',200,375, size=10,visible = False, italic = True)


snake_speed_label = Label('Speed:',35,380, size=15,visible = False)
snake_speed = Label('',70,380, size=20,visible = False)



hits = True
eaten = 0
up = False
left = False
right = False
down = False






##speed of the snake
move = 10

##User Inputs
Key_inputs = []




def onStep():
    
    global hits, eaten, up, left, right, down, move
    
    
    change = 1
    
    ##move = 10
    snake.rotateAngle = 0
    
    
    
    ##make it so the snake will always move to the right
    if snake.move == 'right':
        snake.rotateAngle = 0
        snake.centerX+=move
        Movement_Label.value = snake.move
        

    elif snake.move =='up' and up == True:
        snake.rotateAngle = 270
        snake.centerY-=move
        Movement_Label.value = snake.move
        

    elif snake.move =='down' and down == True:
        snake.rotateAngle = 90
        snake.centerY +=move
        Movement_Label.value = snake.move
        
    elif snake.move =='left':
        snake.rotateAngle = 180
        snake.centerX-=move
        Movement_Label.value = snake.move
        
    ##It will reset the snake back when it hits 400 in the Y axis
    if snake.centerY>400:
        snake.centerY = 0
    ##It will reset the snake back when it hits 400 in the X axis    
    elif snake.centerX > 400:
        snake.centerX = 0
    
    elif snake.centerY < 1:
            snake.centerY= 400
    
    elif snake.centerX < 1:
        snake.centerX = 400
        
    
        
    
    
    ##If the snake hits the apple and hits equals true then adds 1 to the e label and apple visisble == False 
    if (snake.hitsShape(apple)==True) and hits == True:
        eaten +=1
        move += 1
        print("Current Speed:",move)
        
        NumberLabel.visible = True
        
        NumberLabel.value = eaten
        
        hits = False
        
        apple.visible = False
        
        
        snake_speed.value = move
        
        
        
        for obj in snake:
            SnakeMovement.value = obj
        
        
        
        
        
        
        ##This another rectangle to the snake everytime it hits the apple
        
        
        """
        if up == True:
            snake.add(Rect(snake.left*2, snake.top - 25/2, 25,25))
        
        elif down == True:
            snake.add(Rect(snake.left*2, snake.top + 25/2, 25,25))

        elif left == True:
            snake.add(Rect(snake.left-25/2, snake.top*2, 25,25))

        elif right ==True:
            snake.add(Rect(snake.left+25/2, snake.top*2, 25,25))
            
        """
    
        ##snake.add(Rect(snake.left-25, snake.top, 25,25))
            
        
        
        last = snake.children[-1]
        
        if snake.move == "right":
            new_x= last.left -25
            new_y= last.top
        
        elif snake.move =="left":
            new_x = last.left + 25
            new_y= last.top
        
        elif snake.move =="up":
            new_x= last.left
            new_y = last.top + 25
            
        elif snake.move =="down":
            new_x= last.left
            new_y = last.top - 25
        
        new_segment = Rect(new_x,new_y,25,25)
        
        snake.add(new_segment)
        
 
        
        
        
        

        apple.centerX = random.randint(50,300)
        apple.centerY = random.randint(50,300)
        apple.visible = True
        hits = True
        
        
        
        

        if eaten >30:
            app.background = gradient('black','midnightBlue','indigo','purple','mediumVioletRed','black', start='left')
            snake.fill = 'white'
            Eat.fill='red'
            NumberLabel.fill = 'red'
            Eat.value = 'Planets Eaten!'
            apple.radius =random.randint(10,50)
            apple.fill = rgb(random.randint(0,255,),random.randint(0,255,),random.randint(0,255,))
            
            Movement_Label.fill = "red"
            SnakeMovement.fill = "red"


            snake_speed_label.fill = "red"
            snake_speed.fill = "red"
        
        print('')
        print("Your Inputs:")
        print(Key_inputs)
        print('')
            
            



def onMousePress(x,y):
    if (clicker.hitsShape(PlayButton) == True):
        PlayButton.visible = False
        ScreenName.visible = False
        snakeStart.visible = False
        clicker.visible = False
        Movement_Label.visible = True
        SnakeMovement.visible = True
        snake_speed_label.visible = True
        snake_speed.visible = True
        
        
        app.background = gradient('lawnGreen','limeGreen','lawnGreen','limeGreen','lime', 'green' ,start = 'top-left')
        snake.visible = True
        apple.visible = True
        Eat.visible = True
       
       
       




def onKeyPress(key):
    global up,down,right,left, Key_inputs
    
    if key == 'up':
        snake.move = 'up'
        up = True
  
        Key_inputs.append("Up")
       
        
    elif key=='left':
        snake.move= 'left'
        left = True

        Key_inputs.append("Left")
        
        
    elif key=='down':
        snake.move ='down'
        down = True

        Key_inputs.append("Down")
        
        
    elif key=='right':
        snake.move = 'right'
        right = True

        Key_inputs.append("Right")
        
        
 
        
        
        